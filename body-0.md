# 绪 论
## 选题背景
工业生产线在工业生产过程中重要的组成部分，对工业生产系统的正常运行起着十分重要的作用。随着科学技术和国社会济的发展和进步，生产水平的不断提高，生产精度和速度的的上升，工业生产对于生产线的工作环境有了更高的要求和标准。生产车间在发电、石油化工、冶金、纺织、机械制造、高层建筑等公众场合、工业、国防等领域扮演着重要角色。工业生产的正常进行，在社会发展的历史长河中，具有举足轻重的重要意义。
对于生产车间生产安全运行监测一直是电力系统中的重大课题之一，但是，目前通常只侧重于对电量参数（电压、电流、电功率）实时监测技术的研究，其非电量的实时监测（例如触头位置的偏度，触头负荷、触头温度、湿度）由于受到高电压及测量位置和强电场的干扰的限制，至今没有很好的解决方法。目前普遍使用的小车是开关柜，由于断路器与开关柜之间采用出头连接，当小车与配电柜因制造、运输及安装不良等都将引起触头的接触不良，接触电阻增高，发生触头温升过高甚至烧毁，造成停电，同样如果配电柜内的空气湿度过高的话，在触头接触时会导致电气间隙变小，降低绝缘能力，发生放电使触头烧毁，造成事故。同样在于高精度生产线来说，由于其内部结构包含了精度高，功能多的电力电子设备，而这些设备由于本身集成化较高，生产线内如果温过高或者过低都会引起其电气特性的变化，影响其正常、稳定的工作，造成故障和引发安全事故。为了避免这样的恶劣情况发生，对于开发一款能够使对于配电柜触头或者电力电子设备的温湿度监测系统迫在眉睫。

## 课题研究的目的和意义

为什么要研究温度传感控制系统？生产线随着网络信息的飞速发展和生产数据的日积月累，采用传统的管理方式和数据手工记录控制温度模式已经不能够满足于现代生产企业的发展要求。生产温度的实时采集、数据统计和查询的动态化已经成为现代生产企业的提高工作效率，降低生产成本的有效手段。要实现场数据和设备温度的实时采集和数据分析，温控指令的远程下达以及对输送设备的控制等功能，迫切要求分布广泛的现场生产数据实现温度控制智能化。对工业过程控制系统-流水线控制系统而言，必须将输送工业自动化流水线分解为若干个控制子系统，这些独立的控制子系统之间如果不进行有效协调、集中监控和调节温度，整个流水线就无法正常运行。网络化就是将各个控制系统通过通讯网络建立数据交换联系，并实现集中监控，相互协调生产，工艺、质量参数，接受管理人员的工作指令；还可以实现远程多条流水线的集中监控管理，合理调配各项生产要素，最大限度地降低制造成本。这就是建立在网络化基础上的控制系统。

在复杂的工业自动化生产线当中，各种温度控制子系统的控制任务重、实时性强，不可能通过智能控制，控制子系统必须独立完成控制任务，并向中控传送控制状态、控制参数、报警信息等，接受中控指令。另外工业过程控制系统还应该具有预警提示、故障寻迹提示、辅助决策等智能功能。控制器、检测设备的智能化才能够使工业过程控制实现真正的集散控制。工业过程控制系统的智能化减少了人工干预，但需要人工调度指令、维护保养、分析决策等，因此仍需要人机接口；同时系统的智能化使人工工作量大大减少，信息量大大增加，需要表达清晰，操作简便、友好的人机接口，提高人员的参与程度和工作兴趣。开发具有大屏幕显示、动态指示、实物动画、人机对话等功能的更加友好的人机接口也是智能化的方向。

## 温度控制温度控制系统研究现状

国外对温度控制技术的研究始于1970年代。首先，使用模拟组合仪器来收集现场信息并执行指令，记录和控制。分布式控制系统出现在1980年代后期。目前正在开发用于计算机数据采集的控制系统的集成多因素控制系统。当前，温度测量和控制技术在全球不同国家中迅速发展，并且一些国家正在朝着完全自动化和无人值守的方向发展。

中国对温度测量和控制技术的研究相对较晚，始于1980年代。中国工程师和技术人员已经吸收了工业化国家对温度测量和控制技术的吸收，从而掌握了室内温度的微机控制技术。该技术仅限于控制环境中的单个温度因子。中国温度测控设备的计算机应用一般处于从消化吸收阶段，易应用阶段到实用化，全面应用阶段的过渡和发展。从技术上讲，大多数情况下都存在由单片机控制的单参数单回路系统，并且没有真正的集成多参数控制系统。与工业化国家相比，差距很大。我国温度测控的现状还远远没有达到工业化水平。生产中仍有很多困扰我们的问题。设备支持能力差，工业化程度低，环境控制落后，软件和硬件资源无法共享和可靠。缺点，例如不良性行为。

直至今日，温度控制系统已经取得了从单一温度系统控制到智能温度系统控制的重大的技术突破，并且在技术上已经取得成熟，在自动控制领域已经有了巨大成绩。因此，在目前发展的基础上，制造一个基于单片机的温度控制系统基本没有太大缺点的存在。

## 温度传感器技术

传感器技术是现代信息技术的主要内容之一，信息技术包括计算机技术、通信技术和传感器技术。计算机和通信技术发展极快，相当成熟，而传感器应用技术因为需要使用模拟技术，而模拟技术还有很多问题难以解决，因此传感器应用技术也有待进一步发展。为了适应现代科学技术的发展，世界总舵国家都把传感器技术列为现代的关键技术之一。通常将能把非电量转换为电量的器件称为传感器，其实质上是一种功能块，作用是将来自外界的各种信号转换成电信号。它是实现测试与自动控制系统的首要环节。如果没有传感器对原始参数进行精确可靠地测量，那么无论是信号转换或信息处理，或者最佳数据的显示和控制都将无法实现。 

温度传感器，使用范围广，数量多，居各种传感器之手。温度传感器的发展大致经历了以下三个阶段：传统的分立式温度传感器（含敏感元件），主要输能够进行非电量和电量之间的转换；模拟集成温度传感器/控制器；智能温度传感器。目前，国际上新型温度传感器正从模拟式向数字式、集成化、智能化及网络化的方向发展。温度传感器按传感器与被测介质的接触方式可分为接触式温度传感器和非接触式温度传感器两大类，其中，接触式温度传感器的测温元件与被测对象要有良好的热接触，通过热传导及对流原理达到热平衡，这个示值即为被测对象的温度。这种测温方法精度比较高，并可测量物体内部的温度分布。但对于运动的、热容量比较小的及对感温元件有腐蚀作用的对象，这种方法将会产生很大的误差。非接触测温的测温元件与被测对象互不接触。常用的是辐射热交换原理。此种测温方法的主要特点是可测量运动状态的小目标及热容量小或变化迅速的对象，也可测量温度场的温度分布，但受环境的影响比较大。 

温度传感器的发展大致可分为以下几种：  
1. 热电偶传感器。热点偶传感器是工业测量中应用最广泛的一种温度传感器，它与被测对象直接接触，不受中间介质的影响，具有较高的精度；测量范围广，可从-50℃～1600℃进行连续测量，特殊的热电偶如金,铁,镍,铬最低可测到-269℃，钨,铼最高可达2800℃。
2. 模拟集成温度传感器。采用硅半导体集成工艺制成的，因此亦称硅传感器或单片集成温度传感器。模拟集成温度传感器是在20世纪80年代问世的，它将温度传感器集成在一个芯片上、可完成温度测量及模拟信号输出等功能。模拟集成温度传感器的主要特点是：功能单一、测温误差小、价格低、响应速度快、传输距离远、体积小、微功耗等，适合远距离测温，不需要进行非线性校准，外围电路简单。
3. 光纤传感器。光纤测温技术可分为两类:全辐射测温法，单辐射测温法，双波长测温法，多波长测温法等。特点是：光纤挠性好、透光谱段宽、传输损耗低，无论是就地使用或远传均十分方便而且光纤直径小，可以单根、成束、Y型或阵列方式使用，结构布置简单且体积小。缺点是：测量起来困难,难于实现较高的精度，工艺比较复杂,且造价高，推广应用有一定困难。
4. 半导体吸收式光纤温度传感器。半导体吸收式光纤温度传感器是利用了半导体材料的吸收光谱随温度变化的特性实现的。一种传光型光纤温度传感器，是指在光纤传感系统中，光纤仅作为光波的传输通路，而利用其它如光学式或机械式的敏感元件来感受被测温度的变化。在这类传感器中，半导体吸收式光纤温度传感器是研究得比较深入的一种。
5. 智能温度传感器。智能温度传感器(亦称数字温度传感器）是在20世纪90年代中期问世的。它是微电子技术、计算机技术和自动测试技术（ATE）的结晶。目前，国际上已开发出多种智能温度传感器系列产品。智能温度传感器内部包含温度传感器、A/D传感器、信号处理器、存储器（或寄存器）和接口电路。有的产品还带多路选择器、中央控制器（中央处理单元）、随机存取存储器（随机存取存储器）和只读存储器（只读存储器）。智能温度传感器能输出温度数据及相关的温度控制量，适配各种微控制器（M中央处理单元），并且可通过软件来实现测试功能，即智能化取决于软件的开发水平。
6. 数字温度传感器。开始供电时，数字温度传感器处于能量关闭状态，供电之后用户通过改变寄存器分辨率使其处于连续转换温度模式或者单一转换模式。在连续转换模式下，数字温度传感器连续转换温度并将结果存于温度寄存器中，读温度寄存器中的内容不影响其温度转换;在单一转换模式，数字温度传感器执行一次温度转换，结果存于温度寄存器中，然后回到关闭模式，这种转换模式适用于对温度敏感的应用场合。在应用中，用户可以通过程序设置分辨率寄存器来实现不同的温度分辨率，其分辨率有8位、9位、10位、11位或12位五种，对应温度分辨率分别为1.0℃、0.5℃、0.25℃、0.125℃或0.0625℃，温度转换结果的默认分辨率为9位。DS1722有摩托罗拉串行接口和标准三线接口两种通信接口，用户可以通过SERMODE管脚选择通信标准。

## 本文研究的目的和意义
由于传统的温湿度监测装置主要使用51单片机，而在温湿度采集使用了大量的逻辑电路结构复杂，传输速度慢，而且利用这种方法生产的仪表大多是只能对柜内的温湿度进行采集和显示，而且误差较大，不适合在生产环境内，而本文采用Atmega8l-8AU单片机，其内部资源相对比51更为丰富，而且内部含有AD转换模块，省去大部分仪表对温湿度采集后还须设计放大及AD转换电路，来进行数据转换接收，这样相对比传统仪表本设计电路更加简单而且可靠性更强，能够适应生产车间内复杂电气环境，可以对内部断路器或者电力电子设备进行监测，更好的保证工业生产稳定正常运行。

随着互联网技术的发展，未来工业生产向着网络化的方向发展，实现整个工业生产系统的计算机网络化控制，这样对于监测仪表来讲，快速的数据传输，较大的内存空间已成为发展趋势，本设计正是由于这样的一个出发点设计，利用单片机集成化和快速的处理能力能够更好地适应将来市场发展，具备比传统仪表更高的市场潜力。

本设计通过对工业生产环境内部高压断路器或者电力电子设备进行温湿度采集监测，通过报警保证工业生产环境内主要工作器件的稳定工作，实现对于环境温度的保护和监测功能。本设计的研究，符合现在以及未来市场的需求，具有较高的实际意义，本设计不仅功能多、结构简单，由于采用更为精确的传感器进行数据采集，误差小，因此能够应用于更多的领域，由于我国电力系统的稳定和发展，能够保证电能更好地输送和分配，降低电力系统的危险，保障了变电所工作人员的人身安全。具有很大的研发意义。

## 设计主要内容
本文从传统工业环境温度监测方法入手，分析了其对传统工业环境温度检测的优点和不足。结合当前科技的发展，本文提出了一种基于 Atmega8-8AU单片机的异常温湿度监测报警系统的设计，实现对生产车间内温度的实时监测的目的。在本设计中，详细介绍了整个系统的功能以及整个系统的硬件和软件的设计。具体内容如下： 

首先，本文首先第一章介绍了对室温监测的背景、发展现状及目的意义，阐述了本课题研究的出发点以及要达到的目标。系统地介绍了不同时期工业生产温度控制监测的方法，以及目前对生产环境温度监测的主要方式。介绍了现在国内对于温湿度监测技术的发展情况。最终选择了一种利用热敏电阻测温，HS1101湿度传感器测湿的集成传感器实现温湿度的测量，利用单片机将传感器采集的数据进行处理实现室内的温湿度的监测。第二章通过对硬件电路的设计阐述，将本设计实现的方式展现出来，讲述了设计原理。第三章则对软件设计部分进行了讲解，阐述了本设计在软件设计部分的思路和实现方法。第四章是对本设计整体可靠性能进行了相应分析，保证了整个系统的实际可行性。第五章对于实物进行实际的比较和分析。

### 总体设计原则
由于本设计的产品是应用在工业生产环境，在技术参数上参考的生活中，所以在设计时元器件的选择要满足其技术要求。要实现对于温度实时监测，而且考虑到生产车间内复杂的工作环境，所以系统要有很好抗干扰能力，同要求测量结果精确并且能够通过数码管显示出来，通过对室内温湿度值的判断进行相应的显示和报警。同时作为一个适应市场的设计那么其设计外观要适应盛传环境内的空间，所以要求体积尽量小，成本低，性价比高的芯片和电路设计。
### 设计方法实现
由于对于一款仪表的设计工作量十分繁重而且十分复杂，那么再设计过程中就要将系统模块划分通过一部部的模块设计最终完成整个及系统的设计[5]。
1. 硬件电路的实现  
硬件电路的设计就是要将设计中要实现功能转变为现实。通过单片机控制，外围电路的设计来实现整个系统的功能。那么对硬件电路设计就应该包括主控制器的外围接口的设计，还有其复位电路，时钟电路，报警电路。由于生产车间的仪表室供电电压为220V交流电，单片机的供电电压为5V直流电。所以还需设计电源转换模块。将仪表能够直接在仪表室内取电使用，在要求实现显示、控制就包括显示电路、按键电路，和相应控制电路。对于要测量的采集就需要传感器使用那么对传感器的选择，对于这里，我选择了我实习公司生产的一款传感器，这款传感器结构简单功能齐全。
2. 软件设计  
对于软件在本设计中起着很重要的作用，系统的参数和驱动都是依靠软件来实现的。在系统中虽然只测量的量只有温湿度，但由于这两个量都是非电的物理量，这就需要在软件设计时添加很多算法和函数，这就使得程序变得复杂，在这里温度由于传感器直接采集电压信号所以就要添加A/D模块，由于热敏电阻的特性在程序设计师究竟是用插值法和查表法，湿度是频率信号的形式传输的，那么就可以采取利用外部时钟信号来启动定时器/计数器来测量，就需要在硬件内启动多个定时器和计数器的使用。加大了主程序的难度，那么在程序设计的时候就应该采用模块化的方法，将复杂程序进行简化，通过各个模块的相互配合来实现这个软件程序的驱动。
3. 软件和硬件的相互协调  
在某些特别的模块是可以同硬件来实现也可以通过软件实现的。通过软件和硬件相互协调可以优化设计方案，提高设计的质量，性能，降低设计的成本和负担，以软件为主的方案能降低成本，但需要投入大量的时间来进行软件设计。从可靠性来讲，硬件设计的越多那么器件的选择，焊接的质量会造成很多故障点；而软件会是在故障排除后，其可靠性不会发生改变相对稳定。所以在具体设计中应该结合系统的设计要求和相互对比在一些易于出现故障的地方进行反复的推敲，来确定是用软件设计来代替还是通过硬件设计来消除故障的发生，从而优化系统。

## 系统工作原理

单片机温度控制系统是以 Atmega8-8AU单片机为控制核心，辅以采样反馈电路，驱动电路，晶闸管主电路对工业环境温度进行控制的微机控制系统。其基本控制原理为: 用键盘将温度的设定值送入单片机，并在发光二极管显示，启动运行后，通过信号采集电路将温度信号采集到后，送入单片机系统进行PID 控制运算，将控制量输出，改变可控硅管的接通时间便可改变加热丝功率，以达到调节温度的目的控制电阻炉的加热。

当由于环境温度变化太剧烈或由于加热或降温设备出现故障，或者温度传感头出现故障导致在一段时间内不能将环境温度调整到规定的温度限内的时候，单片机通过三极管驱动扬声器发出警笛声。 

本毕业设计就是就应这样要求结合自己学习的知识设计一种能够实现对于温湿度能够进行实时的监测及报警，本设计具有精度高，电路简单，反应速度快，抗干扰性能强的特点整体结构包括硬件结构：主电路设计，显示电路、键盘电路。软件结构：主程序、温湿度采集程序，显示程序。程序采用progisp下载器将程序下载到单片机中。

当由于环境温度变化太剧烈或由于加热或降温设备出现故障，或者温度传感头出现故障导致在一段时间内不能将环境温度调整到规定的温度限内的时候，单片机通过三极管驱动扬声器发出警笛声。

## 系统功能介绍
本设计是对工业环境温度进行检测与控制，设计的温度控制系统实现了基本的温度控制功能：当温度低于设定的温度时，系统自动通过PWM启动加热装置，使温度上升。当温度高于设定的温度时，停止加热。三位数码管及时显示温度，精确到小数点后一位。  
本文设计的温度控制系统具有如下功能：

1. 通过温度芯片MF52NTC采集温度，并以数字信号的方式传送给单片机。
2. 四位数码管动态实时显示房间温度，显示精度0.10C。
3. 三个按键实现对于标准温度的设定。
4. 利用温湿度控制芯片对于温度进行自动或手动控制。


