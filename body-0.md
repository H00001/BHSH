# 绪 论

## 选题背景

工业生产线在工业生产过程中重要的组成部分，对工业生产系统的正常运行起着十分重要的作用。随着科学技术和国社会济的发展和进步，生产水平的不断提高，生产精度和速度的的上升，工业生产对于生产线的工作环境有了更高的要求和标准。生产车间在发电、石油化工、冶金、纺织、机械制造、高层建筑等公众场合、工业、国防等领域扮演着重要角色。工业生产的正常进行，在社会发展的历史长河中，具有举足轻重的重要意义。
对于生产车间生产安全监测一直是制造系统中的重大课题之一，但是，目前只侧重于温度检查，手动控温和实时记录温度，对于生产线自动化控制温度，至今没有很好的解决方法。目前普遍使用的小车是开关柜，由于断路器与开关柜之间采用出头连接，当小车与配电柜因制造、运输及安装不良等都将引起触头的接触不良，接触电阻增高，发生触头温升过高甚至烧毁，造成停电，同样如果配电柜内的空气湿度过高的话，在触头接触时会导致电气间隙变小，降低绝缘能力，发生放电使触头烧毁，造成事故。同样在于高精度生产线来说，由于其内部结构包含了精度高，功能多的电力电子设备，而这些设备由于本身集成化较高，生产线内如果温过高或者过低都会引起其电气特性的变化，影响其正常、稳定的工作，造成故障和引发安全事故。为了避免这样的恶劣情况发生，对于开发一款能够使对于配电柜触头或者电力电子设备的温湿度监测系统迫在眉睫。

## 课题研究的目的和意义

为什么要研究温度传感控制系统？生产线随着网络信息的飞速发展和生产数据的日积月累，采用传统的管理方式和数据手工记录控制温度模式已经不能够满足于现代生产企业的发展要求。生产温度的实时采集、数据统计和查询的动态化已经成为现代生产企业的提高工作效率，降低生产成本的有效手段。要实现场数据和设备温度的实时采集和数据分析，温控指令的远程下达以及对输送设备的控制等功能，迫切要求分布广泛的现场生产数据实现温度控制智能化。对工业过程控制系统-流水线控制系统而言，必须将输送工业自动化流水线分解为若干个控制子系统，这些独立的控制子系统之间如果不进行有效协调、集中监控和调节温度，整个流水线就无法正常运行。网络化就是将各个控制系统通过通讯网络建立数据交换联系，并实现集中监控，相互协调生产，工艺、质量参数，接受管理人员的工作指令；还可以实现远程多条流水线的集中监控管理，合理调配各项生产要素，最大限度地降低制造成本。这就是建立在网络化基础上的控制系统。

在复杂的工业自动化生产线当中，各种温度控制子系统的控制任务重、实时性强，不可能通过智能控制，控制子系统必须独立完成控制任务，并向中控传送控制状态、控制参数、报警信息等，接受中控指令。另外工业过程控制系统还应该具有预警提示、故障寻迹提示、辅助决策等智能功能。控制器、检测设备的智能化才能够使工业过程控制实现真正的集散控制。工业过程控制系统的智能化减少了人工干预，但需要人工调度指令、维护保养、分析决策等，因此仍需要人机接口；同时系统的智能化使人工工作量大大减少，信息量大大增加，需要表达清晰，操作简便、友好的人机接口，提高人员的参与程度和工作兴趣。开发具有大屏幕显示、动态指示、实物动画、人机对话等功能的更加友好的人机接口也是智能化的方向。

由于传统的温湿度监测装置主要使用51单片机，而在温度采集使用了大量的逻辑电路结构复杂，传输速度慢，而且利用这种方法生产的仪表大多是只能对柜内的温湿度进行采集和显示，而且误差较大，不适合在生产环境内，而本文采用Atmega8l-8AU单片机，其内部资源相对比51更为丰富，而且内部含有AD转换模块，省去大部分仪表对温湿度采集后还须设计放大及AD转换电路，来进行数据转换接收，这样相对比传统仪表本设计电路更加简单而且可靠性更强，能够适应生产车间内复杂电气环境，可以对内部断路器或者电力电子设备进行监测，更好的保证工业生产稳定正常运行。

本设计通过对工业生产环境内部电力电子设备进行温度采集监测，通过报警保证工业生产环境内主要工作器件的稳定工作，实现对于环境温度的保护和监测功能。本设计的研究，符合现在以及未来市场的需求，具有较高的实际意义，本设计不仅功能多、结构简单，由于采用更为精确的传感器进行数据采集，误差小，因此能够应用于更多的领域，由于我国电力系统的稳定和发展，能够保证电能更好地输送和分配，降低电力系统的危险，保障了生产工人/操作者的人身安全。具有很大的研发意义。

## 温度控制系统研究现状

温度控制技术按照控制目标的不同可分为两类：动态温度跟踪与恒值温度控制。动态温度跟踪实现的控制目标是使被控对象的温度值按预先设定好的曲线进行变化。在工业生产中很多场合需要实现这一控制目标，如在发酵过程控制，化工生产中的化学反应温度控制，冶金工厂中燃烧炉中的温度控制等。恒值温度控制的目的是使被控对象的温度恒定在某一数值上，且要求其波动幅度（即稳态误差）不能超过某一给定值。从工业温度控制器的发展过程来看，温度控制技术大致可分以下几种：

### 定值开关温度控制法

所谓定值开关控温法，就是通过硬件电路或软件计算判别当前温度值与设定目标温度值之间的关系，进而对系统加热源（或冷却装置）进行通断控制。若当前温度值比设定温度值高，则关断加热器，或者开动制冷装置；若当前温度值比设定温度值低，则开启加热器并同时关断制冷器。这种开关控温方法比较简单，在没有计算机参与的情况下，用很简单的模拟电路就能够实现。目前，采用这种控制方法的温度控制器在我国许多工厂的老式工业电炉中仍被使用。由于这种控制方式是当系统温度上升至设定点时关断电源，当系统温度下降至设定点时开通电源，因而无法克服温度变化过程的滞后性，致使系统温度波动较大，控制精度低，完全不适用于高精度的温度控制。

### PID线性温度控制法

1922年美国的Minorsky在对船舶自动导航的研究中，提出了基于输出反馈的比例积分微分（PID，Proportional Integral Differential）控制器的设计方法[1]，标志了PID控制的诞生。随后，PID控制器就以其结构简单、对模型误差具有鲁棒性以及易于操作等特点，在大多数控制过程中能够获得满意的控制性能，到了20世纪40年代就已在过程控制中得到了广泛的应用。

20世纪30～40年代，经典的频域设计法得到了很快的发展。较为重要的是Nyquist和Bode在稳定性理论上所取得的重要成就。这种经典设计方法是设计一种反馈补偿器，以获得一定量的稳定裕度，重点考虑了模型的不确定性，并利用反馈来减少系统对干扰和模型误差的灵敏度。补偿器的设计主要是采用由Nyquist稳定准则引申出来的图解法。

进入50年代以后，发展较快的是解析法，并且定义了一些瞬态性能指标。借助于模拟计算机的帮助，能较为方便的检测时域响应指标。然而，与此同时对控制系统的鲁棒性和灵敏度的关注有所降低。

20世纪50年代中期，随着数字计算机的出现，用差分方程来描述控制系统模型的方法得到了应用。对人造地球卫星的控制促进了现代控制理论的发展，最优控制被用于去寻找非线性动态系统的最优轨迹。

20世纪60年代，基于最优化技术的控制器设计方法在解决各种不同设计问题上显示出了其优势。现代控制理论开始应用于实际的过程控制，但这需要对过程对象建立精确的数学模型，所以实际上往往难以得到精确的数学模型。因此进入七十年代以后，鲁棒性问题得到了人们更多的关注。

从20世纪80年代开始，在单回路PID控制器中引入了参数整定和自适应控制理论，PID控制理论从此进入了高速发展阶段。

由于PID控制算法简单、可靠性高等特点，在控制技术高速发展的今天，它在工业过程控制中仍然占有主导地位。由于PID调节器模型中考虑了系统的误差，误差变化及误差积累三个因素，因此，其控制性能大大地优越于定值开关控温法。其具体电路可以采用模拟电路或计算机软件方法来实现PID调节功能。前者称为模拟PID调节器，后者称为数字PID调节器。其中数字PID节器的参数可以在现场实现在线整定，因此具有较大的灵活性，可以得到较好的控制效果。采用这种方法实现的温度控制器，其控制品质的好坏主要取决于三个PID参数（即比例值、积分值、微分值）。只要PID参数选取的正确，对于一个确定的受控系统来说，其控制精度是比较令人满意的。

它对大多数工业控制对象都能达到较好的控制效果，但它有明显的缺点，比如依赖于对象模型，对于非线性、大滞后、时变系统控制效果不理想等。而且随着生产的发展，对控制的实时性与精度要求越来越高，被控对象也越来越复杂，单纯采用常规PID控制器己不能满足系统的要求，因此出现了许多新的控制方法。比如自适应控制、最优控制、智能控制、鲁棒控制、满意控制等，这些控制策略引入到PID控制系统的设计当中极大地提高了系统的控制性能。其中，智能PID控制近几年引起了人们极大的研究兴趣。将智能控制方法和常规PID控制方法融合在一起，形成了许多形式的智能PID控制器。它吸收了智能控制与常规PID控制两者的优点。首先，它具备自学习、自适应、自组织的能力，能够自动辨识被控过程参数、自动整定控制参数、能够适应被控过程参数的变化;其次，它又具有常规PID控制器结构简单、鲁棒性强、可靠性高、为现场工程设计人员所熟悉等特点。

### 智能控制法

智能控温系统是某些具有仿人智能的工程控制和信息处理系统，它与人工智能的发展紧密联系。智能控制是一门新兴的交叉前沿学科，它具有非常广泛的应用领域。智能可定义为:能有效的获取、传递、处理、再生和利用信息，从而在任意给定的环境下成功的达到目的的能力。人工智能是应用除了数学式子以外的方法把人们的思维过程模型化，并利用计算机来模仿人的智能的学科。它的应用范围远比控制理论广泛，如包括判断、理解、推理、预测、识别、规划、决策、学习和问题求解等，是高度脑力行为和体力行为的综合。智能控制就是应用人工智能的理论与技术和运筹学的优化方法，并将其同控制理论方法与技术相结将智能控制与PID控制相结合，实现温度的智能控制。智能控温法采用神经元网络和模糊数学为理论基础，并适当加以专家系统来实现智能化。其中应用较多的有模糊控制、神经网络控制以及专家系统等。尤其是模糊控温法在实际工程技术中得到了极为广泛的应用。目前已出现一种高精度模糊控制器，可以更好的模拟人的操作经验来改善控制性能，从理论上讲，可以完全消除稳态误差。所谓第三代智能温控仪表，就是指基于智能控温技术而研制的具有自适应PID算法的温度控制仪表。

目前国内温控仪表的发展，相对国外而言在性能方面还存在一定的差距，它们之间最大的差别.主要还是在控制算法方面，具体表现为国内温控仪在全量程范围内温度控制精度低，自适应性较差。这种不足的原因是多方面造成的，如针对不同的温控对象，由于控制算法的不足而导致控制精度不稳定等。



## 设计主要内容
本文从传统工业环境温度监测方法入手，分析了其对传统工业环境温度检测的优点和不足。结合当前科技的发展，本文提出了一种基于 Atmega8-8AU单片机的异常温湿度监测报警系统的设计，实现对生产车间内温度的实时监测的目的。在本设计中，详细介绍了整个系统的功能以及整个系统的硬件和软件的设计。具体内容如下： 

首先，本文首先第一章介绍了对室温监测的背景、发展现状及目的意义，阐述了本课题研究的出发点以及要达到的目标。系统地介绍了不同时期工业生产温度控制监测的方法，以及目前对生产环境温度监测的主要方式。介绍了现在国内对于温湿度监测技术的发展情况。最终选择了一种利用热敏电阻测温，HS1101湿度传感器测湿的集成传感器实现温湿度的测量，利用单片机将传感器采集的数据进行处理实现室内的温湿度的监测。第二章通过对硬件电路的设计阐述，将本设计实现的方式展现出来，讲述了设计原理。第三章则对软件设计部分进行了讲解，阐述了本设计在软件设计部分的思路和实现方法。第四章是对本设计整体可靠性能进行了相应分析，保证了整个系统的实际可行性。第五章对于实物进行实际的比较和分析。

### 总体设计原则
由于本设计的产品是应用在工业生产环境，在技术参数上参考的生活中，所以在设计时元器件的选择要满足其技术要求。要实现对于温度实时监测，而且考虑到生产车间内复杂的工作环境，所以系统要有很好抗干扰能力，同要求测量结果精确并且能够通过数码管显示出来，通过对室内温湿度值的判断进行相应的显示和报警。同时作为一个适应市场的设计那么其设计外观要适应盛传环境内的空间，所以要求体积尽量小，成本低，性价比高的芯片和电路设计。
### 设计方法实现
由于对于一款仪表的设计工作量十分繁重而且十分复杂，那么再设计过程中就要将系统模块划分通过一部部的模块设计最终完成整个及系统的设计[5]。
1. 硬件电路的实现  
硬件电路的设计就是要将设计中要实现功能转变为现实。通过单片机控制，外围电路的设计来实现整个系统的功能。那么对硬件电路设计就应该包括主控制器的外围接口的设计，还有其复位电路，时钟电路，报警电路。由于生产车间的仪表室供电电压为220V交流电，单片机的供电电压为5V直流电。所以还需设计电源转换模块。将仪表能够直接在仪表室内取电使用，在要求实现显示、控制就包括显示电路、按键电路，和相应控制电路。对于要测量的采集就需要传感器使用那么对传感器的选择，对于这里，我选择了我实习公司生产的一款传感器，这款传感器结构简单功能齐全。
2. 软件设计  
对于软件在本设计中起着很重要的作用，系统的参数和驱动都是依靠软件来实现的。在系统中虽然只测量的量只有温湿度，但由于这两个量都是非电的物理量，这就需要在软件设计时添加很多算法和函数，这就使得程序变得复杂，在这里温度由于传感器直接采集电压信号所以就要添加A/D模块，由于热敏电阻的特性在程序设计师究竟是用插值法和查表法，湿度是频率信号的形式传输的，那么就可以采取利用外部时钟信号来启动定时器/计数器来测量，就需要在硬件内启动多个定时器和计数器的使用。加大了主程序的难度，那么在程序设计的时候就应该采用模块化的方法，将复杂程序进行简化，通过各个模块的相互配合来实现这个软件程序的驱动。
3. 软件和硬件的相互协调  
在某些特别的模块是可以同硬件来实现也可以通过软件实现的。通过软件和硬件相互协调可以优化设计方案，提高设计的质量，性能，降低设计的成本和负担，以软件为主的方案能降低成本，但需要投入大量的时间来进行软件设计。从可靠性来讲，硬件设计的越多那么器件的选择，焊接的质量会造成很多故障点；而软件会是在故障排除后，其可靠性不会发生改变相对稳定。所以在具体设计中应该结合系统的设计要求和相互对比在一些易于出现故障的地方进行反复的推敲，来确定是用软件设计来代替还是通过硬件设计来消除故障的发生，从而优化系统。

## 系统工作原理

单片机温度控制系统是以 Atmega8-8AU单片机为控制核心，辅以采样反馈电路，驱动电路，晶闸管主电路对工业环境温度进行控制的微机控制系统。其基本控制原理为: 用键盘将温度的设定值送入单片机，并在发光二极管显示，启动运行后，通过信号采集电路将温度信号采集到后，送入单片机系统进行PID 控制运算，将控制量输出，改变可控硅管的接通时间便可改变加热丝功率，以达到调节温度的目的控制电阻的加热。

当由于环境温度变化太剧烈或由于加热或降温设备出现故障，或者温度传感头出现故障导致在一段时间内不能将环境温度调整到规定的温度限内的时候，单片机通过三极管驱动扬声器发出警笛声。 

本毕业设计就是就应这样要求结合自己学习的知识设计一种能够实现对于温湿度能够进行实时的监测及报警，本设计具有精度高，电路简单，反应速度快，抗干扰性能强的特点整体结构包括硬件结构：主电路设计，显示电路、键盘电路。软件结构：主程序、温湿度采集程序，显示程序。程序采用progisp下载器将程序下载到单片机中。

当由于环境温度变化太剧烈或由于加热或降温设备出现故障，或者温度传感头出现故障导致在一段时间内不能将环境温度调整到规定的温度限内的时候，单片机通过三极管驱动扬声器发出警笛声。

## 系统功能介绍
本设计是对工业环境温度进行检测与控制，设计的温度控制系统实现了基本的温度控制功能：当温度低于设定的温度时，系统自动通过PWM启动加热装置，使温度上升。当温度高于设定的温度时，停止加热。三位数码管及时显示温度，精确到小数点后一位。  
本文设计的温度控制系统具有如下功能：

1. 通过温度芯片MF52NTC采集温度，并以数字信号的方式传送给单片机。
2. 四位数码管动态实时显示房间温度，显示精度0.10C。
3. 三个按键实现对于标准温度的设定。
4. 利用温湿度控制芯片对于温度进行自动或手动控制。


